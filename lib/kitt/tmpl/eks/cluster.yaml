apiVersion: eksctl.io/v1alpha5
kind: ClusterConfig

metadata:
  name: __CLUSTER_NAME__
  region: __CLUSTER_REGION__
  version: "__EKS_VERSION__"

availabilityZones: [__CLUSTER_AVAILABILITY_ZONES__]

managedNodeGroups:
- name: __CLUSTER_EKS_MNG1__
  instanceType: __CLUSTER_EKS_INSTANCE_TYPE__
  volumeSize: __CLUSTER_EKS_VOLUME_SIZE__
  desiredCapacity: __CLUSTER_NUM_WORKERS_MNG1__
  maxSize: __CLUSTER_MAX_WORKERS__
  minSize: __CLUSTER_MIN_WORKERS__
  availabilityZones: [__CLUSTER_EKS_MNG1_AZ__]
  labels: {role: worker}
  tags:
    nodegroup-role: worker
  ssh:
    allow: true
    publicKeyPath: ~/.ssh/id_rsa.pub
  iam:
    withAddonPolicies:
      ebs: true
      efs: true
- name: __CLUSTER_EKS_MNG2__
  instanceType: __CLUSTER_EKS_INSTANCE_TYPE__
  volumeSize: __CLUSTER_EKS_VOLUME_SIZE__
  desiredCapacity: __CLUSTER_NUM_WORKERS_MNG2__
  maxSize: __CLUSTER_MAX_WORKERS__
  minSize: __CLUSTER_MIN_WORKERS__
  availabilityZones: [__CLUSTER_EKS_MNG2_AZ__]
  labels: {role: worker}
  tags:
    nodegroup-role: worker
  ssh:
    allow: true
    publicKeyPath: ~/.ssh/id_rsa.pub
  iam:
    withAddonPolicies:
      ebs: true
      efs: true
- name: __CLUSTER_EKS_MNG3__
  instanceType: __CLUSTER_EKS_INSTANCE_TYPE__
  volumeSize: __CLUSTER_EKS_VOLUME_SIZE__
  desiredCapacity: __CLUSTER_NUM_WORKERS_MNG3__
  maxSize: __CLUSTER_MAX_WORKERS__
  minSize: __CLUSTER_MIN_WORKERS__
  availabilityZones: [__CLUSTER_EKS_MNG3_AZ__]
  labels: {role: worker}
  tags:
    nodegroup-role: worker
  ssh:
    allow: true
    publicKeyPath: ~/.ssh/id_rsa.pub
  iam:
    withAddonPolicies:
      ebs: true
      efs: true
